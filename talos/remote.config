# Sample Talos configuration file

# The title of the report
title: mobile

#*** output options ****
#comment out next line to disable send to graph server
results_url: 'http://graphs-stage.mozilla.org/server/collect.cgi'
develop: false
fennecIDs: 

# data filters
# filters: [median]

# browser info
process: fennec
browser_path: /tests/fennec
browser_log: browser_output.txt
# arguments to pass to browser
extra_args: ''
#how long the browser takes to open/close
browser_wait: 20
test_timeout: 3600
bcontroller_config: ${talos}/bcontroller.yml

remote: False
deviceip:
deviceport: 20701
webserver: localhost
deviceroot:

buildid: testbuildid

init_url: getInfo.html

# Preferences to set in the test (use "preferences : {}" for no prefs)
preferences:
  browser.EULA.override : true
  security.fileuri.strict_origin_policy : false
  browser.shell.checkDefaultBrowser : false
  browser.warnOnQuit : false
  browser.link.open_newwindow : 2
  dom.allow_scripts_to_close_windows : true
  dom.disable_open_during_load: false
  dom.max_script_run_time : 0
  hangmonitor.timeout : 0
  browser.dom.window.dump.enabled: true
  dom.disable_window_flip : true
  dom.disable_window_move_resize : true
  security.enable_java : false
  extensions.checkCompatibility : false
  extensions.update.notifyUser: false
  talos.logfile: browser_output.txt
  browser.cache.disk.smart_size.enabled: false
  browser.cache.disk.smart_size.firstrun: false
  network.manage-offline-status: false

# Extensions to install in test (use "extensions: []" for none)
extensions: []

#any directories whose contents need to be installed in the browser before running the tests
# this assumes that the directories themselves already exist in the firefox path
dirs:
  chrome : ${talos}/page_load_test/chrome
  components : ${talos}/page_load_test/components

# Environment variables to set during test (use env: {} for none)
env :
  NO_EM_RESTART : 1
  MOZ_CRASHREPORTER_NO_REPORT : 1
  MOZ_CRASHREPORTER_SHUTDOWN : 1
# Tests to run
#  url           : (REQUIRED) url to load into the given firefox browser
#  url_timestamp : (OPTIONAL) whether to include the timestamp at the end of the url
#  resolution    : (REQUIRED) how long (in seconds) to pause between counter sampling
#  cycles        : (REQUIRED) how many times to run the test
#  timeout       : (OPTIONAL) how many seconds the test can run before we consider it failed and quit (default 8 hours)
#  pagetimeout   : (OPTIONAL) how many seconds each page is allowed to take before considered to be frozen (default 8 hours)
#            Must be used in conjuction with the pageloader with the -tpnoisy option
#  counters      : (REQUIRED) types of system activity to monitor during test run, can be empty
#            For possible values of counters argument on Windows, see
#            http://technet2.microsoft.com/WindowsServer/en/Library/86b5d116-6fb3-427b-af8c-9077162125fe1033.mspx?mfr=true
#            Possible values on Mac:
#            counters : ['Private Bytes', 'RSS']
#            Possible values on Linux:
#            counters : ['Private Bytes', 'RSS', 'XRes']
#            Standard windows values:
#            counters : ['Working Set', 'Private Bytes', '% Processor Time']

# to set up a new test it must have the correct configuration options and drop information in a standard format
# the format is seen in the regular expressions in ttest.py
# to see how the data passed from the browser is processed see send_to_graph and send_to_csv in run_tests.py

basetest:
  url:
  url_timestamp :
  resolution : 1
  cycles : 1
  timeout : 3600
  win_counters : []
  w7_counters : []
  linux_counters : []
  mac_counters : []
  remote_counters : []
  shutdown : False
  responsiveness : False
  profile_path : ${talos}/mobile_profile
# pageloader options
  tpmanifest: 
  tpchrome: True
  tpmozafterpaint: False
  tpnoisy: True
  tpformat: tinderbox
  tpcycles: 3
  tppagecycles: 1
  rss: False
  tprender: False
  tpdelay: 1000

tests :
- name: ts
  cycles : 20
  timeout: 150
- name: ts_paint
  cycles: 20
- name: ts_places_generated_max
  cycles : 10
  timeout: 150
- name: ts_places_generated_min
  cycles : 10
  timeout: 150
- name: ts_places_generated_med
  cycles : 10
  timeout: 150
- name: tdhtml
  tpcycles: 3
- name: tsvg
  tpcycles: 3
- name: tsspider
  tpcycles: 3

